<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Environment</title>
    <link href="./css/opensans-fonts.css"                          type="text/css" rel="stylesheet" />
    <link href="./css/bootstrap.min.css"                           type="text/css" rel="stylesheet" />
    <link href="./css/font-awesome.min.css"                        type="text/css" rel="stylesheet" />
    <link href="./css/prettify.css"                                type="text/css" rel="stylesheet" />
    <link href="./css/tabber.css"                                  type="text/css" rel="stylesheet" />
    <link href="./css/tipuesearch.css"                             type="text/css" rel="stylesheet" />
    <link href="./css/specs2.css"                                  type="text/css" rel="stylesheet" />
    <link href="./css/specs2-user.css"                             type="text/css" rel="stylesheet" />

    <script src="./javascript/jquery.js"                           type="text/javascript"></script>
    <script src="./javascript/jquery.jstree.js"                    type="text/javascript"></script>
    <script src="./javascript/tabber.js"                           type="text/javascript"></script>
    <script src="./javascript/tabber_start.js"                     type="text/javascript"></script>
    <script src="./javascript/prettify.js"                         type="text/javascript"></script>
    <script src="./javascript/specs2.js"                           type="text/javascript"></script>
    <script src="./javascript/specs2-user.js"                      type="text/javascript"></script>
    <script src="./javascript/tipuesearch/tipuesearch_set.js"      type="text/javascript"></script>
    <script src="./javascript/tipuesearch/tipuesearch_contents.js" type="text/javascript"></script>
    <script src="./javascript/tipuesearch/tipuesearch.min.js"      type="text/javascript"></script>

</head>
<body onload="prettyPrint()">

<div class="container">

<div class="col-md-2 sidebar-outer">
<div class="col-md-2 fixed">

<!-- search box -->
<div class="search-box">
  <form action="search.html">
    <input type="text" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>

<!-- table of contents -->
<toc/>

</div>
</div>


<div class="col-md-10">
<h1>Environment</h1>
<div id="tipue_search_content"></div>

<p>The execution of a Specification depends on various parts, among which:</p>
<ul>
<li>the command line arguments</li>
<li>an <code class="prettyprint">ExecutorService</code> for concurrent execution</li>
<li>a “StatisticsRepository” to access previous results</li>
<li>a “Logger” to log results to the console</li>
<li>an interface for the file system</li>
</ul>
<p>All of this is bundled into one object <code class="prettyprint">org.specs2.specification.core.Env</code>. The <code class="prettyprint">Env</code> is accessible to your Specification by mixing-in the <code class="prettyprint">org.specs2.specification.Environment</code> trait</p>
<pre><code class="prettyprint">class MySpec extends Specification with Environment { def is(env: Env) =
s2&quot;&quot;&quot;
  Use the environment fileSystem
  ${ env.fileSystem.mkdirs(&quot;tmp&quot; / &quot;test&quot;).runOption; ok }
&quot;&quot;&quot;
}</code></pre>
<p>As you can see, instead of defining the <code class="prettyprint">is</code> method you now need to defined the <code class="prettyprint">is(env: Env)</code> method. Then you can access any attribute of the current <code class="prettyprint">Env</code>. There are also some specialised traits giving access to specific parts of the environment</p>
<h3 id="command-line-arguments">Command-line arguments</h3>
<p>When you just want to access the command-line arguments you can use the <code class="prettyprint">org.specs2.specification.CommandLineArguments</code> trait</p>
<pre><code class="prettyprint">class MySpec extends Specification with CommandLineArguments { def is(args: CommandLine) = s2&quot;&quot;&quot;
  Use the command line arguments
  ${ if (args.isSet(&quot;pass&quot;)) ok else ko }
&quot;&quot;&quot;
}</code></pre>
<h3 id="execution-environment">Execution environment</h3>
<p>When you just want to access the execution environment can use the <code class="prettyprint">org.specs2.specification.ExecutionEnvironment</code> trait</p>
<pre><code class="prettyprint">class MySpec extends Specification with ExecutionEnvironment { def is(implicit ee: ExecutionEnv) = s2&quot;&quot;&quot;
  Use the implicit execution environment
  ${ Future(1) must be_==(1).await }
&quot;&quot;&quot;
  }</code></pre>
<p>As you can see the <code class="prettyprint">ExecutionEnv</code> parameter is defined as an implicit parameter because this is what is required when creating futures or using <link class="ok"> <a href="org.specs2.guide.ExecutionEnvironments.html" tooltip="" class="ok">Future matchers</a></link></p>
</div>

<script>
$(document).ready(function() {
  $('#tipue_search_input').tipuesearch({
    'show': 6
  });
});
</script>
</div>

</body>
</html>