<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Specification template</title>
    <link href="./css/opensans-fonts.css"                          type="text/css" rel="stylesheet" />
    <link href="./css/bootstrap.min.css"                           type="text/css" rel="stylesheet" />
    <link href="./css/font-awesome.min.css"                        type="text/css" rel="stylesheet" />
    <link href="./css/prettify.css"                                type="text/css" rel="stylesheet" />
    <link href="./css/tabber.css"                                  type="text/css" rel="stylesheet" />
    <link href="./css/tipuesearch.css"                             type="text/css" rel="stylesheet" />
    <link href="./css/specs2.css"                                  type="text/css" rel="stylesheet" />
    <link href="./css/specs2-user.css"                             type="text/css" rel="stylesheet" />

    <script src="./javascript/jquery.js"                           type="text/javascript"></script>
    <script src="./javascript/jquery.jstree.js"                    type="text/javascript"></script>
    <script src="./javascript/tabber.js"                           type="text/javascript"></script>
    <script src="./javascript/tabber_start.js"                     type="text/javascript"></script>
    <script src="./javascript/prettify.js"                         type="text/javascript"></script>
    <script src="./javascript/specs2.js"                           type="text/javascript"></script>
    <script src="./javascript/specs2-user.js"                      type="text/javascript"></script>
    <script src="./javascript/tipuesearch/tipuesearch_set.js"      type="text/javascript"></script>
    <script src="./javascript/tipuesearch/tipuesearch_contents.js" type="text/javascript"></script>
    <script src="./javascript/tipuesearch/tipuesearch.min.js"      type="text/javascript"></script>

</head>
<body onload="prettyPrint()">

<div class="container">

<div class="col-md-2 sidebar-outer">
<div class="col-md-2 fixed">

<!-- search box -->
<div class="search-box">
  <form action="search.html">
    <input type="text" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>

<!-- table of contents -->
<toc/>

</div>
</div>


<div class="col-md-10">
<h1>Specification template</h1>
<div id="tipue_search_content"></div>

<p>On the <link class="ok"> <a href="org.specs2.guide.Contexts.html" tooltip="" class="ok">Contexts</a></link> page we saw that there is a way to define an action which will be executed before all examples with the <code class="prettyprint">BeforeAll</code> trait. You actually might want to create your own trait extending <code class="prettyprint">BeforeAll</code> in order to reuse this action in more than one specification:</p>
<pre><code class="prettyprint">trait DatabaseSetup extends BeforeAll {
  def beforeAll = println(&quot;prepare database&quot;)
}

class DatabaseSpecification1 extends Specification with DatabaseSetup { def is = s2&quot;&quot;&quot;
  // do something with the database
 &quot;&quot;&quot;
}</code></pre>
<p>How does this work? The <code class="prettyprint">BeforeAll</code> trait overrides a method called <code class="prettyprint">map</code> in the <code class="prettyprint">SpecificationStructure</code> trait (a parent of <code class="prettyprint">Specification</code>) and adds one <code class="prettyprint">Step</code> before anything else in the specification:</p>
<pre><code class="prettyprint">override def map(fs: =&gt;Fragments): Fragments =
  super.map(fs).prepend(fragmentFactory.step(beforeAll))</code></pre>
<p>The <code class="prettyprint">map</code> method is indeed called every time the specification returns the list of <code class="prettyprint">Fragment</code>s defining it. You can leverage this method and define your own “Specification templates”:</p>
<ul>
<li>adding some text before/after a Specification</li>
<li>filtering out some undesirable fragments</li>
<li>reformatting all text</li>
<li>…</li>
</ul>
<h3 id="and-if-you-want-to-know-more" class="ribbon both-ribbon">And if you want to know more</h3>
<div class="ribbon-content">
<p>You will probably need to learn a bit more about <s2>specs2</s2> <link class="ok"> <a href="org.specs2.guide.FragmentsApi.html" tooltip="" class="ok">“Fragments” API</a></link> in order to modify, delete or add new “Fragments”.</p>
</div>
</div>

<script>
$(document).ready(function() {
  $('#tipue_search_input').tipuesearch({
    'show': 6
  });
});
</script>
</div>

</body>
</html>